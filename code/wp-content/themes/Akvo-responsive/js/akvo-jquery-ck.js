// Interaction for akvo.org website.
// Author: loic@akvo.org - 2013
function openDialog(e){$(e).clone().show().appendTo("#overlay").parent().fadeIn("fast")}function closeDialog(e){$(e).parents("#overlay").fadeOut("fast",function(){$(this).find(".dialog").remove()})}$("document").ready(function(){$(document).bind("em_maps_location_hook",function(e,t,n,r){t.set("scrollwheel",!1);t.setOptions({scrollwheel:!1})});$("#partnershipGroup ul.staff").find("li.newStaff").appendTo("#partnershipGroup .staff");$("#communicationGroup ul.staff").find("li.newStaff").appendTo("#communicationGroup .staff");$("#engineeringGroup .staff").find("li.newStaff").appendTo("#engineeringGroup .staff");$("div.breadcrumbs").append($("div.projectGateWay"));$(".blog #content, .blog .widget-area").wrapAll($("<div>").addClass("blogWrap"));$("#back-top").hide();$(function(){$(window).scroll(function(){$(this).scrollTop()>100?$("#back-top").fadeIn():$("#back-top").fadeOut()});$("#back-top a").click(function(){$("body,html").animate({scrollTop:0},600);return!1});$(".anchorNav li a").click(function(e){e.preventDefault();$("html,body").animate({scrollTop:$(this.hash).offset().top},500)})});var e=$("<div></div>");$("li.staffAsset.management div.imgWrapper").append(e);$("li.staffAsset").click(function(){var e=$(this).attr("id");openDialog("#descrDialog");$("#staffDescr p").load("/wp-content/themes/Akvo-responsive/staffDescr.php #"+e)});$("#descrDialog").find(".ok, .cancel").live("click",function(e){e.stopPropagation(e);closeDialog(this)}).end().find(".ok").live("click",function(){console.log("clicked close!")}).end().find(".cancel").live("click",function(){console.log("clicked close!")});$(".priceTab").click(function(){openDialog("#priceDialog")});$("#descrDialog").find(".ok, .cancel").live("click",function(){closeDialog(this)}).end().find(".ok").live("click",function(){console.log("clicked close!")}).end().find(".cancel").live("click",function(){console.log("clicked close!")});$("li.partnerAsset").click(function(){var e=$(this).attr("id");openDialog("#descrDialog");$("#partnerDescr p").load("/wp-content/themes/Akvo-responsive/partnerDescr.php #"+e)});$("#descrDialog").find(".ok, .cancel").live("click",function(){closeDialog(this)}).end().find(".ok").live("click",function(){console.log("clicked close!")}).end().find(".cancel").live("click",function(){console.log("clicked close!")})});var KEYCODE_ESC=27;$(document).keyup(function(e){e.keyCode==KEYCODE_ESC&&$(".cancel").click()});